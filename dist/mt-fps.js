!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MtFps=e():t.MtFps=e()}(window,function(){return r={},o.m=n=[function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(2)),u=n(3);function s(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}function c(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t)}}var f,l=(f=a.default,o(d,f),d.prototype.apply=function(t){var e=this;e.monitor=t,e.lastTime=u.performancenow(),e.frame=0,e.lastFameTime=u.performancenow(),e.lists=[],e.stoped=!1,e.timer=s()(function(){e.start()}),e.reportFps(),e.emitFps()},d.prototype.emitFps=function(){var t=this;this.monitor&&setTimeout(function(){t.emit("fps:logs",t.lists),t.emitFps()},this.sampleTime)},d.prototype.reportFps=function(){var e=this;this.monitor&&setTimeout(function(){var t;null!==(t=e.monitor)&&void 0!==t&&t.report({type:"fps",payload:{fps:e.lists}}),e.reportFps()},this.reportTime)},d.prototype.start=function(){var t=this;if(this.monitor)try{if(!0===this.stoped)return void(this.timer&&c()(this.timer));var e=u.performancenow();this.frame++,1e3<e-this.lastTime&&(this.lists.push(this.frame),this.frame=0,this.lastTime=e),this.lists.length>this.count&&this.lists.splice(0,1),this.timer&&c()(this.timer),this.timer=s()(function(){t.start()})}catch(t){console.error("fps error",t)}},d.prototype.stop=function(){this.stoped=!0},d);function d(t,e,n){var r=f.call(this)||this;return r.lists=[],r.lastTime=0,r.lastFameTime=0,r.frame=0,r.stoped=!1,r.count=t||10,r.reportTime=e||6e4,r.sampleTime=n||5e3,r}e.MtFps=l,e.default=l},function(t,e,n){"use strict";var v=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},y=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var o=(i.prototype.on=function(t,e,n){if(!e)throw new ReferenceError("handler not defined");return this.events[t]||(this.events[t]=[]),n&&(e.once=n),this.events[t].push(e),this},i.prototype.once=function(t,e){return this.on(t,e,!0)},i.prototype.off=function(t,e){if(!this.events[t])return this;if(!e)throw new ReferenceError("handler not defined");if("*"===e)return delete this.events[t],this;for(var n=this.events[t];n.includes(e);)n.splice(n.indexOf(e),1);return n.length<1&&delete this.events[t],this},i.prototype.emit=function(t){for(var e,n,r,o,c=this,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];function u(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(!c.events["*"])return c;var i=c.events["*"];try{for(var a=v(i),u=a.next();!u.done;u=a.next()){var s=u.value;s.call.apply(s,y([c,t],r))}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return c}if(!this.events[t])return u.apply(void 0,y([t],i));var s=this.events[t],f=[];try{for(var l=v(s),d=l.next();!d.done;d=l.next())(h=d.value).apply(this,i),h.once&&f.push(h)}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}try{for(var p=v(f),m=p.next();!m.done;m=p.next()){var h=m.value;this.off(t,h)}}catch(t){r={error:t}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}return u.apply(void 0,y([t],i))},i);function i(){this.events={}}e.EventBus=o,e.default=o},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},f=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};function o(t){var r=t,e=r.tagName||r.nodeName,n=r.id;return{tag:e,className:r.className,id:n,attr:Object.keys(r.attributes||{}).reduce(function(t,e){var n=r.attributes[e];return t.push(n.name+":"+n.value),t},[]).join(";")}}function u(o,i,a,t,u,s){var c=t;!function e(){try{var n=new XMLHttpRequest;n.stopLog&&n.stopLog();var r=function(){setTimeout(function(){if(!(c<=0)){var t=(new Date).getTime();a.tryTime=t,a.tryStatus=n.status,a.tryStatusText=n.status,a.tryEvent=n,a.tryAgainCount=c,--c,e()}},12e4)};if(n.addEventListener("error",function(t){r()}),n.withCredentials=!0,n.open(o,i,!0),n.onreadystatechange=function(t){try{if(!n)return;if(4===n.readyState)if(200===n.status){var e=JSON.parse(n.responseText);u&&u(e)}else s&&s(n.status),r()}catch(t){console.error(t)}},n.setRequestHeader("Content-Type","application/json; charset=utf-8"),"get"===o.toLowerCase()&&n.send(null),"post"===o.toLowerCase()){var t=JSON.stringify({data:btoa(JSON.stringify(a))});n.send(t)}}catch(t){console.error("request",t)}}()}function i(t,e){var n,r=e?JSON.stringify(e):"",o="\n  try{\n    "+u.toString()+";\n    ("+t.toString()+")("+r+");\n  } catch(e) {\n    console.log('worker exec error', e)\n  }\n  ";try{n=new Blob([o],{type:"application/javascript"})}catch(t){var i=window,a=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder);a.append(o),n=a.getBlob("application/javascript")}return(window.URL||window.webkitURL).createObjectURL(n)}function a(t,e){if(window.Worker){var n=i(t,e);try{var r=new window.Worker(n);return r.addEventListener("error",function(t){console.error("worker error",t)}),r}catch(t){console.error(t)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.subtraction=function(t,e,n){return t[e]&&t[n]&&"number"==typeof t[e]&&"number"==typeof t[n]?t[e]-t[n]:0},e.isReady=function(t){function n(){setTimeout(function(){t&&t()})}if(document.addEventListener){document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t,!1),n()},!1)}else if(document.attachEvent){document.attachEvent("onreadystatechange",function t(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",t),n())})}else{!function t(){var e=setTimeout(function(){e&&clearTimeout(e),(document.body?n:t)()},500)}()}},e.autoUnitMs=function(r){var o=[],i={ms:1,s:1e3,m:6e4,h:36e5,d:864e5};return["d","h","m","s","ms"].forEach(function(t){if(!(r<=0)){var e=Math.floor(r/i[t]),n=r%i[t];r=0!=n?n:0,0<e&&o.push(""+e+t)}}),o.join(".")},e.autoUnitSize=function(t,e){void 0===e&&(e="Bytes");var n=["Bytes","KB","MB","GB","TB","PB"],r=n.indexOf(e);if(r<0)throw Error("unit must be one of "+n.join(","));var o,i=Math.floor(Math.log(t)/Math.log(1024));return o=t/Math.pow(1024,i),Number(o.toFixed(2))+" "+n[i+r]},e.debounce=function(o,i,a){var u,s;function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this;if(u&&window.clearTimeout(u),!0!==c){if(a){var r=!u;u=window.setTimeout(function(){u&&window.clearTimeout(u),u=null},i),r&&(s=o.call.apply(o,f([n],t)))}else u=window.setTimeout(function(){o.call.apply(o,f([n],t))},i);return s}}void 0===i&&(i=150),void 0===a&&(a=!0);var c=!1;return t.cancel=function(){u&&window.clearTimeout(u),u=null},t.stop=function(){u&&window.clearTimeout(u),c=!(u=null)},t},e.getEl=o,e.domPaths=function(t){for(var e=[t],n=[];0<e.length;){var r=e.shift();if(!r)break;n.push(o(r)),r.parentNode&&e.push(r.parentNode)}return n},e.request=u,e.fn2workerURL=i,e.makeWorker=a,e.makeIframe=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=document.createElement("iframe");r.width="0",r.height="0",r.style.display="none",r.style.visibility="hidden",document.body.appendChild(r);var o=e.join(",");r.src="javascript:try{;("+t.toString()+")("+o+")}catch(e){console.log('iframe exec error', e)}";var i=r.contentWindow;return r?i:null};var s=a(function(){addEventListener("message",function(t){var e=t.data||{};u("post",e.url+"?d="+Math.random(),e,3)})});e.report=function(e,n,r,t){var o="";try{o=JSON.stringify(t)}catch(t){}setTimeout(function(){var t={uid:r,product:n,url:e,data:o};s?s.postMessage(t):u("post",t.url+"?d="+Math.random(),t,3)},1e3)},e.isFunction=function(t){return t instanceof Function},e.getTime=function(){var t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),t},e.performancenow=function(){return window.performance&&"function"==typeof window.performance.now?performance.now():(new Date).getTime()}}],o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=0);function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var n,r});